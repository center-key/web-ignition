<!doctype html>
<html lang=en>
<head>
<meta charset=utf-8>
<meta name=viewport  content="width=device-width, initial-scale=1">
<title>lib-x.js &bull; Specification page</title>
<link rel=icon       href=https://centerkey.com/graphics/bookmark.png>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15/css/all.min.css>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/dna.js@1.7/dist/dna.css>
<link rel=stylesheet href=../dist/reset.min.css>
</head>
<body>

<header>
   <h1>lib-x.js v<span class=version-number></span></h1>
   <h2>Specifications Page</h2>
   <a id=fork-me href=https://github.com/center-key/web-ignition>Fork me on GitHub</a>
</header>

<main>

   <section>
      <h2>Specifications</h2>
      <p id=roll-in-icons>
         <i data-icon=magic></i>
         <i data-icon=flag></i>
         <i data-icon=paw></i>
         <i data-brand=apple></i>
         <i data-icon=coffee></i>
         <i data-icon=diamond></i>
         <i data-icon=bolt></i>
         <i data-brand=github-alt></i>
      </p>
      <p>
         <button>Click me to disable</button>
         <button class=no-disable>Keep clickin'</button>
         <button data-href=https://www.google.com class=external-site>Jump to Google</button>
         <button data-href-popup=https://www.google.com data-width=500>Google popup</button>
      </p>
      <form><button type=submit>Form submit</button></form>
      <div>
         <pre><code id=account-info></code></pre>
      </div>
      <div>
         <code id=account-info-string></code>
      </div>
      <br>
      <p class=display-addr data-name=sales data-domain=ibm.com></p>
      <hr>
      <div>
         <div class=reveal-button>More...</div>
         <div class=reveal-target>
            <p>Surprise!</p><p>Surprise!</p><p>Surprise!</p><p>Surprise!</p><p>Surprise!</p><p>Surprise!</p>
         </div>
      </div>
      <hr>
      <div>
         <div class=reveal-button>More 2...</div>
         <div class=reveal-target><p>Surprise!</p><p>Surprise!</p><p>Surprise!</p></div>
      </div>
      <hr>
      <div>
         <div class=reveal-button data-reveal=more>More...</div>
         <p>There is more that meets the eye.</p>
         <div class=reveal-target data-reveal=more><p>Surprise!</p><p>Surprise!</p><p>Surprise!</p></div>
      </div>
      <hr>
      <p>
         Hover over the helicopter: <i data-icon=helicopter><span class=bubble-help>Help!</span></i>
      </p>
      <hr>
      <div>
         <p id=helicopter class=dna-template>
            Hover over a helicopter clone: <i data-icon=helicopter><span class=bubble-help>~~help~~</span></i>
         </p>
      </div>
      <hr>
      <p>On a Mac:    <code id=is-a-mac></code></p>
      <p>Running iOS: <code id=is-ios></code></p>
      <p>thumbs-up: <i data-icon=thumbs-up></i></p>
      <p>Jiggle it:
         <i data-icon=glass-martini-alt data-click=libX.animate.jiggleIt></i>
         <i data-icon=flask             data-click=libX.animate.jiggleIt></i>
         <i data-icon=wine-bottle       data-click=libX.animate.jiggleIt></i>
         <i data-icon=fragil            data-click=libX.animate.jiggleIt></i>
         <i data-icon=biohazard         data-click=libX.animate.jiggleIt></i>
      </p>
      <p>
         Counters:<br>
         <code id=counters-actual></code> =<br>
         <code id=counters-expected></code>
      </p>
      <div>
         <label>
            <span>Hash:</span>
            <input data-smart-update=hashIt placeholder="Enter your secret">
            <a href=https://emn178.github.io/online-tools/sha256.html class=external-site><i data-icon=info></i></a>
         </label>
         <pre><output>&nbsp;</output></pre>
      </div>
      <aside class=simple>
         <img src=https://centerkey.com/mac/java/graphics/installer-screenshot.png
            data-popup-image=https://centerkey.com/mac/java/graphics/installer-screenshot.png alt=thumbnail>
      </aside>
      <span>
         <img src=https://dnajs.org/graphics/dnajs-logo.png class=popup-image alt=thumbnail>
      </span>
   </section>

   <section style="width: 40%;">
      <h2>A video</h2>
      <figure class=video-container>
         <iframe src=https://www.youtube.com/embed/jMOZOI-UkNI></iframe>
      </figure>
      <h2>A video link</h2>
      <figure class=video-container-link>
         <iframe src=https://www.youtube.com/embed/jMOZOI-UkNI></iframe>
      </figure>
   </section>

</main>

<footer>
   <div id=social-buttons></div>
   <div>Copyright &copy; 2151 Enterprise</div>
</footer>

<script src=https://cdn.jsdelivr.net/npm/jquery@3.5/dist/jquery.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/dna.js@1.7/dist/dna.min.js></script>
<script src=../dist/lib-x.min.js></script>
<script>
   const makePageRed = () => $('body').css({ backgroundColor: 'pink' });
   window.onerror = makePageRed;
   console.log('web-ignition v' + libX.version);
   libX.ui.autoDisableButtons();
   libX.animate.rollIn($('#roll-in-icons'));
   libX.animate.jiggleIt($('#fork-me'));
   $('h1').click(libX.animate.jiggleIt);
   $('.version-number').text(libX.version);
   $('#is-a-mac').text(libX.browser.macOS() ? 'YES' : 'no');
   $('#is-ios').text(libX.browser.iOS() ? 'YES' : 'no');
   window.setTimeout(() => dna.clone('helicopter', { help: 'Help me too!' }, { fade: true }), 3000);
   libX.counter.get();           //returns: 0
   libX.counter.increment();     //returns: 1
   libX.counter.reset();         //returns: 0
   libX.counter.increment();     //returns: 1
   libX.counter.increment();     //returns: 2
   libX.counter.set(99, 'x');    //returns: 99
   libX.counter.increment('x');  //returns: 100
   libX.counter.list();          //returns: { default: 2, x: 100 }
   $('#counters-actual').text(  JSON.stringify(libX.counter.list()));
   $('#counters-expected').text(JSON.stringify({ default: 2, x: 100 }));
   const handleHash = (container) => (hash) => container.find('output').text(hash);
   const hashIt = (elem) => libX.crypto.hash(elem.val()).then(handleHash(elem.closest('div')));
   const expected = '6926f2bf8bc542620db47571a88c1da761c976744ca554833c4baa917acd0e20';
   const throwBadHash = (hash) => window.setTimeout(() => { throw Error('Bad hash ' + hash); });
   libX.crypto.hash('My secret').then(hash => hash === expected || throwBadHash(hash));
</script>
</body>
</html>
