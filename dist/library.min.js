//! library.js ~ web-ignition v1.2.4 ~ github.com/center-key/web-ignition ~ MIT License
function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var library={version:"1.2.4",initialize:function initialize(){$.fn.id=library.ui.id,$.fn.enable=library.ui.enable,$.fn.disable=library.ui.disable,$.fn.findAll=library.ui.findAll,library.social.setup(),library.ui.setupForkMe(),dna.registerInitializer(library.ui.normalize);var a=function(a){return{click:a,touchstart:a}};$(function onLoadSetup(){library.ui.displayAddr(),library.ui.setupVideos(),library.form.perfect(),library.bubbleHelp.setup(),$(window.document).on(a(library.ui.revealSection),".reveal-button").on({click:library.ui.popupClick},"[data-href-popup]").on({click:library.popupImage.show},"[data-popup-image], .popup-image")})}};library.ui={id:function id(a){return a===void 0?this.attr("id"):this.attr({id:a})},enable:function enable(a){return this.prop({disabled:a!==void 0&&!a})},disable:function disable(a){return this.prop({disabled:a===void 0||!!a})},findAll:function findAll(a){return this.find(a).addBack(a)},toElem:function toElem(a,b){var c=a instanceof $&&a,d=a&&a.target;return c||$(d||a||b)},makeIcons:function makeIcons(a){return a.findAll("i[data-icon]").addClass("font-icon fas").each(function makeIcon(a,b){return $(b).addClass("fa-"+$(b).data().icon)}),a.findAll("i[data-brand]").addClass("font-icon fab").each(function makeBrand(a,b){return $(b).addClass("fa-"+$(b).data().brand)}),a},normalize:function normalize(a){return a=a||$(window.document),library.ui.makeIcons(a),a.find("button:not([type])").attr({type:"button"}),a.find("input:not([type])").attr({type:"text"}),a.find("input[type=email]").attr({autocorrect:"off",spellcheck:!1}),a.find("a img, a i.font-icon").closest("a").addClass("image-link"),library.browser.iOS()||a.find("a.external-site, .external-site a").attr({target:"_blank"}),a},displayAddr:function displayAddr(){return $(".display-addr").each(function display(a,b){var c=$(b).data();$(b).html(c.name+"<span>"+String.fromCharCode(64)+c.domain+"</span>")})},popup:function popup(a,b){var c=_objectSpread(_objectSpread({},{width:600,height:400}),b),d="left=200,top=100,width="+c.width+",height="+c.height;window.open(a,"_blank",d+",scrollbars,resizable,status")},popupClick:function popupClick(a){var b=$(a.target).data();library.ui.popup(b.hrefPopup,b)},revealSection:function revealSection(a){var b=$(a.target).closest(".reveal-button"),c=".reveal-target[data-reveal="+b.data().reveal+"]",d=b.data().reveal?$(c):b.next();dna.ui.slideFadeOut(b),dna.ui.slideFadeIn(d)},keepOnScreen:function keepOnScreen(a,b){var c=Math.max,d=a.offset().left,e=c(-d,-b)+b,f=c(d+a.width()-$(window).width(),-b)+b;return a.css({left:"+="+(e-f)+"px"})},autoDisableButtons:function autoDisableButtons(){$(window.document).on({submit:function disableFormButton(a){return $(a.target).find("button:not(.no-disable)").disable()}},"form").on({click:function disableButton(a){$(a.target).closest("nav,.no-disable").length||$(a.target).closest("button").disable()}},"button:not([type=submit],[data-href],[data-href-popup])")},loadImageFadeIn:function loadImageFadeIn(a,b,c){var d=new window.Image;return d.onload=function handleImg(b){return a.fadeIn(c||1500),"IMG"===a[0].nodeName?a.attr({src:b.target.src}):a.css({backgroundImage:"url("+b.target.src+")"})},d.src=b,a},setupVideos:function setupVideos(){$("figure.video-container-link").each(function makeVideoClickable(a,b){b=$(b);var c=b.find("iframe").attr("src");b.attr("data-href",c.replace("//www.youtube.com/embed","//youtu.be"))}),$("figure.video-container iframe").attr("allowfullscreen",!0)},setupForkMe:function setupForkMe(){var a=$("#fork-me").removeAttr("id").wrap($("<div id=fork-me>"));a.after(function makeIcon(a){return $("<i>",{"data-brand":"github","data-href":a})}(a.attr("href"))).parent().show().parent().addClass("forkable")}},library.util={cleanupEmail:function cleanupEmail(a){return a=a&&a.replace(/\s/g,"").toLowerCase(),!!/.+@.+[.].+/.test(a)&&a},toObj:function toObj(a){return JSON.parse(a===void 0?"{}":a)},removeWhitespace:function removeWhitespace(a){return a.replace(/\s/g,"")},details:function details(a){var b=_typeof(a)+" --> ";return a&&a.jquery?b+="jquery:"+a.jquery+" elems:"+a.length+function jQueryDetials(a){return 0===a.length?"":" [#1 elem:"+a.first()[0].nodeName+" id:"+a.first().id()+" class:"+a.first().attr("class")+" kids:"+a.first().children().length+"]"}(a):null===a?b+="[null]":"object"===_typeof(a)?Object.keys(a).forEach(function addProp(c){b+=c+":"+a[c]+" "}):b+=a,b},debug:function debug(a){console.log(Date.now()+": "+library.util.details(a))}},library.crypto={hash:function hash(a,b){var c=_objectSpread(_objectSpread({},{algorithm:"SHA-256",salt:""}),b),d=new TextEncoder().encode(a+c.salt),e=function(a){return a.toString(16).padStart(2,"0").slice(-2)};return window.crypto.subtle.digest("SHA-256",d).then(function handleDigest(a){return Array.from(new Uint8Array(a)).map(e).join("")})}},library.storage={dbSave:function dbSave(a,b){return window.localStorage[a]=JSON.stringify(b),library.storage.dbRead(a)},dbRead:function dbRead(a){return library.util.toObj(window.localStorage[a])},sessionSave:function sessionSave(a,b){return window.sessionStorage[a]=JSON.stringify(b),library.storage.sessionRead(a)},sessionRead:function sessionRead(a){return library.util.toObj(window.sessionStorage[a])}},library.counter={key:"counters",list:function list(){var a=sessionStorage[library.counter.key];return a?JSON.parse(a):{}},get:function get(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"default",b=library.counter.list();return b[a]?b[a]:0},set:function set(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default",c=library.counter.list();return c[b]=a,sessionStorage[library.counter.key]=JSON.stringify(c),a},reset:function reset(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"default";return library.counter.set(0,a)},increment:function increment(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"default";return library.counter.set(library.counter.get(a)+1,a)}},library.browser={macOS:function macOS(){return /Mac/.test(window.navigator.platform)&&/Apple/.test(window.navigator.vendor)},iOS:function iOS(){var a=/iPad|iPhone|iPod/.test(window.navigator.userAgent);return a&&/Apple/.test(window.navigator.vendor)}},library.popupImage={show:function show(a){var b=$(a.target).addClass("popup-image");b.parent().css({position:"relative"}),b.next(".popup-image-layer").remove();var c="keyup."+Date.now(),d=function(){$(window.document).off(c),b.next().fadeOut()},e=b.data().popupWidth||1000,f=Math.min(e,$(window).width()-30)+"px",g=b.data().popupImage||b.attr("src"),h=$("<div>").addClass("popup-image-layer").on({click:d}).append(library.ui.makeIcons($("<i data-icon=times>"))).append($("<img>").attr({src:g}).css({maxWidth:f}));h.insertAfter(b),library.ui.keepOnScreen(h,30).fadeTo("slow",1),$(window.document).on(c,function escKeyClose(a){return"Escape"===a.key&&d()})}},library.animate={jiggleIt:function jiggleIt(a){var b=library.ui.toElem(a)[0];b.style.animation="none",window.requestAnimationFrame(function(){return b.style.animation="jiggle-it 0.2s 3"})},rollIn:function rollIn(a){var b=1===a.length?a.children():a,c={opacity:1,transition:"opacity 5s"},d=function(){b.first().css(c).delay(1500).queue(d),b=b.slice(1)};b.css({opacity:0}),window.setTimeout(d,300)}},library.bubbleHelp={setup:function setup(a){var b=(a||$(window.document)).find(".bubble-help:not(.bubble-initialized)").addBack(".bubble-help:not(.bubble-initialized)"),c=function(a){return $(a.target).closest(".bubble-help-hover")},d=function(a){var b=c(a).find(".bubble-help"),d=b.parent().hasClass("bubble-wrap")?b.parent():function wrapIt(){return b.wrap("<span class=bubble-wrap></span>").parent().append("<span class=bubble-pointer>&#9660;</span>")}();d.find(".bubble-help").show(),d.css({top:-d.height()}).stop(!0).hide().fadeIn()},e=function(a){return c(a).find(".bubble-wrap").fadeOut("slow")};return b.parent().addClass("bubble-help-hover").on({mouseenter:d,mouseleave:e,touchstart:d,touchend:e}),b.addClass("bubble-initialized")}},library.form={perfect:function perfect(){var a=$("form.perfect:not([action])"),b=a.data()&&a.data().version||"",c=b+String.fromCharCode(46,112)+"hp",d={method:"post",action:"perfect"+c},e=function(){return a.find("[name=version]")[0]||$("<input type=hidden name=version>")[0]},f=function(){return a.attr(d).append($(e()).val(b))};a.find("textarea").focus(function(){return window.setTimeout(f,5e3)})}},library.social={buttons:[{title:"Twitter",icon:"twitter",x:580,y:350,link:"https://twitter.com/share?text=${title}&url=${url}"},{title:"Facebook",icon:"facebook-f",x:580,y:350,link:"https://www.facebook.com/sharer.php?u=${url}"},{title:"LinkedIn",icon:"linkedin-in",x:580,y:350,link:"https://www.linkedin.com/shareArticle?mini=true&url=${url}&title=${title}"},{title:"Digg",icon:"digg",x:985,y:700,link:"https://digg.com/submit?url=${url}"},{title:"Reddit",icon:"reddit",x:600,y:750,link:"https://www.reddit.com/submit?url=${url}$title=${title}"}],share:function share(a){var b=library.social.buttons[a.index()],c=function(a,b,c){return a.replace(b,encodeURIComponent(c))},d=c(b.link,"${url}",window.location.href),e=c(d,"${title}",window.document.title);library.ui.popup(e,{width:b.x,height:b.y})},setup:function setup(){var a=$("#social-buttons"),b=["<i data-brand="," data-click=library.social.share></i>"],c="<span>";a.length&&library.social.buttons.forEach(function addHtml(a){return c+=b[0]+a.icon+b[1]}),a.fadeTo(0,0).html(c+"</span>").fadeTo("slow",1)}},library.extra={blogger:function blogger(a){$(window.blogger.ui()).on({viewitem:function onArticleLoad(){console.log("Article: %c"+$("h1.entry-title").text().trim(),"color: purple;"),$("#header >.header-bar h3").attr("data-href",a),library.ui.normalize(),window.hljsEnhance.setup()}})},gTags:function gTags(a){function b(){window.dataLayer.push(arguments)}var c=$(a).attr("src").split("=")[1];window.dataLayer=window.dataLayer||[],b("js",new Date),b("config",c)}},"object"===("undefined"==typeof module?"undefined":_typeof(module))&&(module.exports=library),"object"===("undefined"==typeof window?"undefined":_typeof(window))&&(window.library=library),library.initialize();
