//! library.js ~~ web-ignition v0.0.5 ~~ https://github.com/center-key/web-ignition ~~ MIT License
function _typeof(a){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}var library={version:"0.0.5",initialize:function b(){function a(a){return{click:a,touchstart:a}}$.fn.id=library.ui.id,$.fn.enable=library.ui.enable,$.fn.disable=library.ui.disable,$.fn.findAll=library.ui.findAll,library.social.setup(),library.ui.setupForkMe(),dna.registerInitializer(library.ui.normalize),$(function(){library.ui.displayAddr(),library.ui.setupVideos(),library.form.setup(),library.bubbleHelp.setup(),$(window.document).on(a(library.ui.revealSection),".reveal-button").on({click:library.ui.popupClick},"[data-href-popup]").on({click:library.popupImage.show},"[data-popup-image], .popup-image")}),"object"===("undefined"==typeof module?"undefined":_typeof(module))&&(module.exports=library),"object"===("undefined"==typeof window?"undefined":_typeof(window))&&(window.library=library)}};library.ui={id:function b(a){return a===void 0?this.attr("id"):this.attr({id:a})},enable:function b(a){return this.prop({disabled:a!==void 0&&!a})},disable:function b(a){return this.prop({disabled:a===void 0||!!a})},findAll:function b(a){return this.find(a).addBack(a)},makeIcons:function b(a){return a.findAll("i[data-icon]").addClass("font-icon fas").each(function(a,b){$(b).addClass("fa-"+$(b).data().icon)}),a.findAll("i[data-brand]").addClass("font-icon fab").each(function(a,b){$(b).addClass("fa-"+$(b).data().brand)}),a},normalize:function b(a){return a=a||$(window.document),library.ui.makeIcons(a),a.find("button:not([type])").attr({type:"button"}),a.find("input:not([type])").attr({type:"text"}),a.find("input[type=email]").attr({autocorrect:"off",spellcheck:!1}),a.find("a img, a i.font-icon").closest("a").addClass("image-link"),dna.browser.iOS()||a.find("a.external-site, .external-site a").attr({target:"_blank"}),a},displayAddr:function a(){return $(".display-addr").each(function(a,b){var c=$(b).data();$(b).html(c.name+"<span>"+String.fromCharCode(64)+c.domain+"</span>")})},popup:function e(a,b){var c=$.extend({width:600,height:400},b),d="left=200,top=100,width="+c.width+",height="+c.height;window.open(a,"_blank",d+",scrollbars,resizable,status")},popupClick:function c(a){var b=$(a.target).data();library.ui.popup(b.hrefPopup,b)},revealSection:function e(a){var b=$(a.target).closest(".reveal-button"),c=".reveal-target[data-reveal="+b.data().reveal+"]",d=b.data().reveal?$(c):b.next();dna.ui.slideFadeOut(b),dna.ui.slideFadeIn(d)},keepOnScreen:function g(a,b){var c=Math.max,d=a.offset().left,e=c(-d,-b)+b,f=c(d+a.width()-$(window).width(),-b)+b;return a.css({left:"+="+(e-f)+"px"})},autoDisableButtons:function a(){$(window.document).on({submit:function(a){return $(a.target).find("button:not(.no-disable)").disable()}},"form").on({click:function(a){$(a.target).closest("nav,.no-disable").length||$(a.target).closest("button").disable()}},"button:not([type=submit],[data-href],[data-href-popup])")},loadImageFadeIn:function e(a,b,c){var d=new window.Image;return d.onload=function(b){return a.fadeIn(c||1500),"IMG"===a[0].nodeName?a.attr({src:b.target.src}):a.css({backgroundImage:"url("+b.target.src+")"})},d.src=b,a},setupVideos:function a(){$("figure.video-container-link").each(function(a,b){b=$(b);var c=b.find("iframe").attr("src");b.attr("data-href",c.replace("//www.youtube.com/embed","//youtu.be"))}),$("figure.video-container iframe").attr("allowfullscreen",!0)},setupForkMe:function b(){function a(a){return $("<i>",{"data-brand":"github","data-href":a})}(function(b){return b.after(a(b.attr("href")))})($("#fork-me").removeAttr("id").wrap($("<div id=fork-me>"))).parent().show()}},library.util={cleanupEmail:function b(a){return a=a&&a.replace(/\s/g,"").toLowerCase(),!!/.+@.+[.].+/.test(a)&&a},toObj:function b(a){return JSON.parse(a===void 0?"{}":a)},removeWhitespace:function b(a){return a.replace(/\s/g,"")},details:function c(a){var b=_typeof(a)+" --> ";return a&&a.jquery?b+="jquery:"+a.jquery+" elems:"+a.length+function(a){return 0===a.length?"":" [#1 elem:"+a.first()[0].nodeName+" id:"+a.first().id()+" class:"+a.first().attr("class")+" kids:"+a.first().children().length+"]"}(a):null===a?b+="[null]":"object"===_typeof(a)?Object.keys(a).forEach(function(c){b+=c+":"+a[c]+" "}):b+=a,b},debug:function b(a){console.log(Date.now()+": "+library.util.details(a))}},library.storage={dbSave:function c(a,b){return window.localStorage[a]=JSON.stringify(b),library.storage.dbRead(a)},dbRead:function b(a){return library.util.toObj(window.localStorage[a])},sessionSave:function c(a,b){return window.sessionStorage[a]=JSON.stringify(b),library.storage.sessionRead(a)},sessionRead:function b(a){return library.util.toObj(window.sessionStorage[a])}},library.browser={macOS:function a(){return /Mac/.test(window.navigator.platform)&&/Apple/.test(window.navigator.vendor)}},library.popupImage={show:function g(a){var b=$(a.target).addClass("popup-image");b.parent().css({position:"relative"}),b.next(".popup-image-layer").remove();var c=b.data().popupWidth||800,d=Math.min(c,$(window).width()-30)+"px",e=b.data().popupImage||b.attr("src"),f=$("<div>").addClass("popup-image-layer").click(function(){b.next().fadeOut()}).append(library.ui.makeIcons($("<i data-icon=times>"))).append($("<img>").attr({src:e}).css({maxWidth:d}));f.insertAfter(b),library.ui.keepOnScreen(f,30).fadeTo("slow",1)}},library.animate={rollIn:function e(a){function b(){c.first().css(d).delay(1500).queue(b),c=c.slice(1)}var c=1===a.length?a.children():a,d={opacity:1,transition:"opacity 5s"};c.css({opacity:0}),window.setTimeout(b,300)}},library.bubbleHelp={setup:function d(){function a(a){var b=$(a.target).closest(".bubble-help-hover");c=b.find(".bubble-wrap"),0===c.length&&(c=b.find(".bubble-help").wrap("<span class=bubble-wrap></span>").parent().append("<span class=pointer>&#9660;</span>")),c.find(".bubble-help").show(),c.css({top:-c.height()}).hide().fadeIn()}function b(){c.fadeOut("slow")}var c;$(".bubble-help").parent().addClass("bubble-help-hover").hover(a,b)}},library.form={setup:function a(){$("form.perfect:not([action])").attr({method:"post",action:"perfect.php"})}},library.json={prettyPrint:function c(a){var b=/^( *)("[\w]+": )?("[^"]*"|[\w.+-]*)?([,[{])?$/mg;return JSON.stringify(a,null,3).replace(/&/g,"&amp;").replace(/\\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(b,function(a,b,c,d,e){var f=b||"";return c&&(f=f+"<span class=json-key>"+c.replace(/[": ]/g,"")+"</span>: "),d&&(f=f+("\""===d[0]?"<span class=json-string>":"<span class=json-value>")+d+"</span>"),f+(e||"")})},printable:function b(a){return JSON.stringify(a).replace(/"([^"]*)":/g," $1: ").replace(/}/g," }").replace(/,([^ ])/g,", $1").replace(/"/g,"'")}},library.social={buttons:[{icon:"google",title:"Google",x:480,y:700,link:"https://plus.google.com/share?url=${url}"},{icon:"twitter",title:"Twitter",x:580,y:350,link:"https://twitter.com/share?text=${title}&url=${url}"},{icon:"facebook-f",title:"Facebook",x:580,y:350,link:"https://www.facebook.com/sharer.php?u=${url}"},{icon:"linkedin-in",title:"LinkedIn",x:580,y:350,link:"https://www.linkedin.com/shareArticle?mini=true&url=${url}&title=${title}"},{icon:"digg",title:"Digg",x:985,y:700,link:"https://digg.com/submit?url=${url}"},{icon:"reddit",title:"Reddit",x:600,y:750,link:"https://www.reddit.com/submit?url=${url}$title=${title}"}],share:function f(a){function b(a,b,c){return a.replace(b,encodeURIComponent(c))}var c=library.social.buttons[a.index()],d=b(c.link,"${url}",window.location.href),e=b(d,"${title}",window.document.title);library.ui.popup(e,{width:c.x,height:c.y})},setup:function a(){(function(){var a=$("#social-buttons"),b=["<i data-brand="," data-click=library.social.share></i>"],c="<span>";a.length&&library.social.buttons.forEach(function(a){c+=b[0]+a.icon+b[1]}),a.fadeTo(0,0).html(c+"</span>").fadeTo("slow",1)})()}},library.gTags={setup:function d(a){function b(){window.dataLayer.push(arguments)}var c=$(a).attr("src").split("=")[1];window.dataLayer=window.dataLayer||[],b("js",new Date),b("config",c)}},library.initialize();
